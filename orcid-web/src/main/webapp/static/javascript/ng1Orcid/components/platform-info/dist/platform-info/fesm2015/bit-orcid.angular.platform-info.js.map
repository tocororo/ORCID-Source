{"version":3,"file":"bit-orcid.angular.platform-info.js","sources":["ng://@bit/orcid.angular.platform-info/browserlist.regexp.ts","ng://@bit/orcid.angular.platform-info/platform-info.service.ts","ng://@bit/orcid.angular.platform-info/platform-info.module.ts"],"sourcesContent":["// tslint:disable-next-line: max-line-length\nexport const BROWSERLIST_REGEXP = /((CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS)[ +]+(12[_\\.]2|12[_\\.]([3-9]|\\d{2,})|12[_\\.]4|12[_\\.]([5-9]|\\d{2,})|(1[3-9]|[2-9]\\d|\\d{3,})[_\\.]\\d+|13[_\\.]0|13[_\\.]([1-9]|\\d{2,})|(1[4-9]|[2-9]\\d|\\d{3,})[_\\.]\\d+)(?:[_\\.]\\d+)?)|(Edge\\/(79|([8-9]\\d|\\d{3,}))(?:\\.\\d+)?)|(HeadlessChrome((?:\\/79\\.\\d+\\.\\d+)?|(?:\\/([8-9]\\d|\\d{3,})\\.\\d+\\.\\d+)?))|((Chromium|Chrome)\\/(79|([8-9]\\d|\\d{3,}))\\.\\d+(?:\\.\\d+)?)|(Version\\/(12\\.0|12\\.([1-9]|\\d{2,})|(1[3-9]|[2-9]\\d|\\d{3,})\\.\\d+|13\\.0|13\\.([1-9]|\\d{2,})|(1[4-9]|[2-9]\\d|\\d{3,})\\.\\d+)(?:\\.\\d+)?.*Safari\\/)|(Trident\\/7\\.0)|(Firefox\\/(68|(69|[7-9]\\d|\\d{3,})|72|(7[3-9]|[8-9]\\d|\\d{3,}))\\.\\d+\\.\\d+)|(Firefox\\/(68|(69|[7-9]\\d|\\d{3,})|72|(7[3-9]|[8-9]\\d|\\d{3,}))\\.\\d+(pre|[ab]\\d+[a-z]*)?)|(([MS]?IE) (11|(1[2-9]|[2-9]\\d|\\d{3,}))\\.\\d+)/\n","import { BreakpointObserver, Breakpoints } from '@angular/cdk/layout'\r\nimport { Platform } from '@angular/cdk/platform'\r\nimport { Injectable } from '@angular/core'\r\nimport { BehaviorSubject, Observable } from 'rxjs'\r\nimport { PlatformInfo } from './platform-info.type'\r\nimport { BROWSERLIST_REGEXP } from './browserlist.regexp'\r\n\r\n@Injectable()\r\nexport class PlatformInfoService {\r\n  platformSubject = new BehaviorSubject<PlatformInfo>(null)\r\n\r\n  platform: PlatformInfo = {\r\n    unsupportedBrowser: false,\r\n    desktop: false,\r\n    tabletOrHandset: false,\r\n    tablet: false,\r\n    handset: false,\r\n    edge: false,\r\n    ie: false,\r\n    firefox: false,\r\n    safary: false,\r\n    columns4: false,\r\n    columns8: false,\r\n    columns12: false,\r\n  }\r\n\r\n  constructor(\r\n    private _breakpointObserver: BreakpointObserver,\r\n    private _platform: Platform\r\n  ) {\r\n    if (!BROWSERLIST_REGEXP.test(navigator.userAgent)) {\r\n      this.platform.unsupportedBrowser = true\r\n    }\r\n\r\n    this.platform.firefox = _platform.FIREFOX\r\n    this.platform.safary = _platform.SAFARI\r\n    this.platform.ie = _platform.TRIDENT\r\n    this.platform.edge = _platform.EDGE\r\n    this.platformSubject.next(this.platform)\r\n\r\n    this._breakpointObserver.observe([Breakpoints.Handset]).subscribe(state => {\r\n      if (state.matches) {\r\n        this.platform.handset = true\r\n      } else {\r\n        this.platform.handset = false\r\n      }\r\n      this.platformSubject.next(this.platform)\r\n    })\r\n    this._breakpointObserver.observe([Breakpoints.Tablet]).subscribe(state => {\r\n      if (state.matches) {\r\n        this.platform.tablet = true\r\n      } else {\r\n        this.platform.tablet = false\r\n      }\r\n      this.platformSubject.next(this.platform)\r\n    })\r\n    this._breakpointObserver\r\n      .observe([Breakpoints.Handset, Breakpoints.Tablet])\r\n      .subscribe(state => {\r\n        if (state.matches) {\r\n          this.platform.tabletOrHandset = true\r\n          this.platform.desktop = false\r\n        } else {\r\n          this.platform.tabletOrHandset = false\r\n          this.platform.desktop = true\r\n        }\r\n        this.platformSubject.next(this.platform)\r\n      })\r\n\r\n    this._breakpointObserver\r\n      .observe(['(min-width: 839.99px)', '(min-width: 599.99px)'])\r\n      .subscribe(state => {\r\n        if (state.breakpoints['(min-width: 839.99px)']) {\r\n          this.platform.columns8 = false\r\n          this.platform.columns12 = true\r\n          this.platform.columns4 = false\r\n        } else if (state.breakpoints['(min-width: 599.99px)']) {\r\n          this.platform.columns8 = true\r\n          this.platform.columns12 = false\r\n          this.platform.columns4 = false\r\n        } else {\r\n          this.platform.columns8 = false\r\n          this.platform.columns12 = false\r\n          this.platform.columns4 = true\r\n        }\r\n        this.platformSubject.next(this.platform)\r\n      })\r\n  }\r\n\r\n  public get(): Observable<PlatformInfo> {\r\n    return this.platformSubject.asObservable()\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core'\r\nimport { CommonModule } from '@angular/common'\r\nimport { PlatformInfoService } from './platform-info.service'\r\nimport { PlatformModule } from '@angular/cdk/platform'\r\nimport { LayoutModule } from '@angular/cdk/layout'\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [CommonModule, PlatformModule, LayoutModule],\r\n  providers: [PlatformInfoService],\r\n})\r\nexport class PlatformInfoModule {}\r\n"],"names":[],"mappings":"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"}